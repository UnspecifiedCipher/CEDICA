{% extends "layout.html" %}

{% block head %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/form.css') }}"/>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/dropdown.css') }}"/>
  <script src="{{ url_for('static', filename='js/dropdown.js') }}"></script>
  {% endblock %}

{% block title %}Nuevo empleado - CEDICA{% endblock %}

{% block navbar %}
{% endblock %}

{% block content %}
  <section class="form-container">
    <h1 class="title">Registrar un empleado</h1>
    <form class="form" action="{{ url_for('employee.create')}}" method="POST" enctype="multipart/form-data">
      <div class="input-set">
        <input spellcheck=false id="name-field" class="input-field" name="name" type="text" placeholder="" required><br>
        <label id="name-label" class="input-label" for="name-field">NOMBRE</label>
        <span id="name-error" class="input-error"></span>
      </div>
      <div class="input-set">
        <input spellcheck=false id="surname-field" class="input-field" name="surname" type="text" placeholder="" required><br>
        <label id="surname-label" class="input-label" for="surname-field">APELLIDO</label>
        <span id="surname-error" class="input-error"></span>
      </div>
      <div class="input-set">
        <input id="dni-field" class="input-field" name="dni" type="text" placeholder="" required><br>
        <label id="dni-label" class="input-label" for="dni-field">DNI</label>
        <span id="dni-error" class="input-error"></span>
      </div>
      <div class="input-set">
        <input id="street-field" class="input-field" name="street" placeholder="" type="text" required><br>
        <label id="street-label" class="input-label" for="street-field">CALLE</label>
        <span id="street-error" class="input-error"></span>
      </div>
      <div class="input-set">
        <input id="number-field" class="input-field" name="number" placeholder="" type="text" required><br>
        <label id="number-label" class="input-label" for="number-field">NÚMERO</label>
        <span id="number-error" class="input-error"></span>
      </div>
      <div class="input-set">
        <input id="apartment-field" class="input-field" name="apartment" placeholder="" type="text"><br>
        <label id="apartment-label" class="input-label" for="apartment-field">DEPARTAMENTO</label>
        <span id="apartment-error" class="input-error"></span>
      </div>
      <div class="input-set">
        <input id="email-field" class="input-field" name="email" type="email" placeholder="" required><br>
        <label id="email-label" class="input-label" for="email-field">EMAIL</label>
        <span id="email-error" class="input-error"></span>
      </div>
      <div class="input-set">
        <input id="phone-field" class="input-field" name="phone" placeholder="" type="text" required><br>
        <label id="phone-label" class="input-label" for="phone-field">TELÉFONO</label>
        <span id="phone-error" class="input-error"></span>
      </div>
      <div class="input-set">
        <input id="obra-social-field" class="input-field" name="obra-social" type="text" placeholder="" required><br>
        <label id="obra-social-label" class="input-label" for="obra-social-field">OBRA SOCIAL</label>
        <span id="obra-social-error" class="input-error"></span>
      </div>

      <div class="order">
        <div class="input-set">
          <label id="locality-label" class="select-label" for="locality-field">LOCALIDAD</label>
          <div class="select_mate" data-mate-select="active" >
            <select name="locality" id="locality-field" required>
              {% for locality in localitys %}
                <option value="{{ locality.id }}">{{ locality.name | upper }}</option>
              {% endfor %}
            </select>
            
            <p class="selecionado_opcion" onclick="open_select(this)" ></p>
            <span onclick="open_select(this)" class="icon_select_mate" >
              <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"/>
                <path d="M0-.75h24v24H0z" fill="none"/>
              </svg>
            </span>

            <div class="cont_list_select_mate">
              <ul class="cont_select_int"></ul> 
            </div>
          </div>
        </div>
      </div>

      <div class="order">
        <div class="input-set">
          <label id="profession-label" class="select-label" for="profession-field">PROFESIÓN</label>
          <div class="select_mate" data-mate-select="active" >
            <select name="profession" id="profession-field" required>
              {% for profession in professions %}
                <option value="{{ profession.id }}">{{ profession.name | upper }}</option>
              {% endfor %}
            </select>
            
            <p class="selecionado_opcion" onclick="open_select(this)" ></p>
            <span onclick="open_select(this)" class="icon_select_mate" >
              <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"/>
                <path d="M0-.75h24v24H0z" fill="none"/>
              </svg>
            </span>

            <div class="cont_list_select_mate">
              <ul class="cont_select_int"></ul> 
            </div>
          </div>
        </div>
      </div>

      <div class="order">
        <div class="input-set">
          <label id="job-position-label" class="select-label" for="job-position-field">PUESTO LABORAL</label>
          <div class="select_mate" data-mate-select="active" >
            <select name="job-position" id="job-position-field" required>
              {% for job_position in job_positions %}
                <option value="{{ job_position.id }}">{{ job_position.name | upper  }}</option>
              {% endfor %}
            </select>
            
            <p class="selecionado_opcion" onclick="open_select(this)" ></p>
            <span onclick="open_select(this)" class="icon_select_mate" >
              <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"/>
                <path d="M0-.75h24v24H0z" fill="none"/>
              </svg>
            </span>

            <div class="cont_list_select_mate">
            <ul class="cont_select_int"></ul> 
            </div>
          </div>
        </div>
      </div>

      <div class="input-set">
        <input id="start-date-field" class="input-field" name="start-date" type="date" required><br>
        <label id="start-date-label" class="input-label" for="start-date-field">FECHA INICIO</label>
        <span id="start-date-error" class="input-error"></span>
      </div>
      <div class="input-set">
        <input id="end-date-field" class="input-field" name="end-date" type="date"><br>
        <label id="end-date-label" class="input-label" for="end-date-field">FECHA CESE</label>
        <span id="end-date-error" class="input-error"></span>
      </div>
      <div class="input-set">
        <input id="emergency-contact-name-field" class="input-field" name="emergency-contact-name" type="text" placeholder=""><br>
        <label id="emergency-contact-name-label" class="input-label" for="emergency-contact-name-field">NOMBRE CONTACTO EMERGENCIA</label>
        <span id="emergency-contact-name-error" class="input-error"></span>
      </div>
      <div class="input-set">
        <input id="emergency-contact-phone-field" class="input-field" name="emergency-contact-phone" type="text" placeholder=""><br>
        <label id="emergency-contact-phone-label" class="input-label" for="emergency-contact-phone-field">TELÉFONO DE EMERGENCIA</label>
        <span id="emergency-contact-phone-error" class="input-error"></span>
      </div>
      <div class="input-set">
        <input id="affiliate-number-field" class="input-field" name="affiliate-number" type="text" placeholder="" required><br>
        <label id="affiliate-number-label" class="input-label" for="affiliate-number-field">NRO AFILIADO</label>
        <span id="affiliate-number-error" class="input-error"></span>
      </div>

      <div class="input-set">
        <label class="order-checkbox" for="volunteer-checkbox">VOLUNTARIO</label>
        <div class="checkbox-wrapper-30">
          <span class="checkbox">
          <input type="checkbox" id="volunteer-checkbox" name="volunteer"/>
          <svg>
            <use xlink:href="#checkbox-30" class="checkbox"></use>
          </svg>
          </span>
          <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
          <symbol id="checkbox-30" viewBox="0 0 22 22">
            <path fill="none" stroke="currentColor" d="M5.5,11.3L9,14.8L20.2,3.3l0,0c-0.5-1-1.5-1.8-2.7-1.8h-13c-1.7,0-3,1.3-3,3v13c0,1.7,1.3,3,3,3h13 c1.7,0,3-1.3,3-3v-13c0-0.4-0.1-0.8-0.3-1.2"/>
          </symbol>
          </svg>
        </div>
      </div>

      <div class="submit-btn">
        <button id="button-submit" class="submit" type="submit" disabled>Registrar</button>
      </div>
    </form>
  </section>

  <script>
    const mails = {{ mails | tojson }};
    const dnis = {{ dnis | tojson }};
    const affiliate_numbers = {{ affiliate_numbers | tojson }};
  </script>
  <script src="{{ url_for('static', filename='js/createEmployee.js') }}"></script>
  {% endblock %}

{% block footer %}
{% endblock %}